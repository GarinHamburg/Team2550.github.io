<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Team 2550: Loops</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Team 2550
   </div>
   <div id="projectbrief">Technical Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cpploop.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Loops </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#while">while</a><ul><li class="level2"><a href="#dowhile">do-while</a></li>
</ul>
</li>
<li class="level1"><a href="#for">for</a></li>
<li class="level1"><a href="#loopproblems">Pitfalls</a></li>
</ul>
</div>
<div class="textblock"><p>Iteration, or looping, refers to the repetition of a group of commands. Looping allows blocks of code to be repeated indefinately. This is especially useful for robotics - the code that runs is almost always some for of loop.</p>
<dl class="section note"><dt>Note</dt><dd>The process of looping is known as iteration (or iterating).</dd></dl>
<h1><a class="anchor" id="while"></a>
while</h1>
<p>A <code>while</code> loop allows you to repeat code until a condition is met. The basic layout follows... </p><pre class="fragment">while (condition_is_true)
{
    ...
    ...
    ...
}
</pre><dl class="section note"><dt>Note</dt><dd>Any kind of loop can be nested.</dd></dl>
<p>There are many uses for <code>while</code> loops. Here are a few examples.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="keywordtype">int</span> i = 0;</div>
<div class="line">    <span class="comment">//this code in this loop runs exactly 100 times</span></div>
<div class="line">    <span class="keywordflow">while</span> (i &lt; 100)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; 2*i &lt;&lt; endl;</div>
<div class="line">        i++; <span class="comment">//update i, the loop would be infinte otherwise</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> i = 1;</div>
<div class="line">    <span class="comment">//repeat until i = 0</span></div>
<div class="line">    <span class="comment">/*This loop will continuously add to i while i is not 0. Once i reaches around 4 billion,</span></div>
<div class="line"><span class="comment">      it will actually wrap around and become approximately -4 billion (4 billion is the</span></div>
<div class="line"><span class="comment">      approximate size of a signed int on a 32 bit system). After wrapping, it will approach</span></div>
<div class="line"><span class="comment">      0 and eventually reach it.</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    <span class="keywordflow">while</span> (i != 0)</div>
<div class="line">        i++; <span class="comment">//like an if statement, a single-line while loop does not need brackets</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">//Here is a loop that relies on an external factor. It keeps repeating until the user provides valid input.</span></div>
<div class="line">    <span class="keywordtype">int</span> answer;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Guess what number I am thinking of: &quot;</span>;</div>
<div class="line">    cin &gt;&gt; answer;</div>
<div class="line">    <span class="keywordflow">while</span> (answer != 42)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;You answered incorrectly, please try again.\n&quot;</span></div>
<div class="line">        cin &gt;&gt; answer;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>While loops can be especially useful for robotics. Here are a few more usage ideas.</p>
<ul>
<li>Move until a sensor's readings yield a certain value.</li>
<li>If the robot is remote-controlled, the code that translates user inputs into actions is all in a loop.</li>
<li>A combination of loops and functions can be used to multi-task. You can only run a single action at a time, but the program executes as fast as possible, meaning that you can work on one task, switch out of it, and move to another until they are all done.</li>
</ul>
<h2><a class="anchor" id="dowhile"></a>
do-while</h2>
<p>There are some situations where you want to ensure the code within the loop runs at least once. This is where a <code>do... while</code> loop is useful. Instead of running the test at the beginning of the loop, a <code>do... while</code> loop tests at the end. The basic format is very similar to that of a <code>while</code> loop. </p><pre class="fragment">do
{
    ...
    ...
    ...
} while (condition_is_met);
</pre><dl class="section note"><dt>Note</dt><dd>I do not think you can omit the braces for a <code>do... while</code>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><code>while (true)</code> creates in infinite loop, which is undesireable in most cases.</dd></dl>
<p>The final example in the above section can be made more concise here.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> answer;</div>
<div class="line">cout &lt;&lt; <span class="stringliteral">&quot;Guess what number I am thinking of: &quot;</span>;</div>
<div class="line"><span class="keywordflow">do</span></div>
<div class="line">{</div>
<div class="line">    cin &gt;&gt; answer;</div>
<div class="line">    <span class="stringliteral">&quot;You chose poorly. Try again.\n&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="for"></a>
for</h1>
<p>In most cases, you want to loop for a known number of times. This can be done with while loops (as was shown above), but <code>for</code> loops are much more concise and allow code to be more localized.</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; i++)</div>
<div class="line">    cout &lt;&lt; 2 * i &lt;&lt; endl;</div>
</div><!-- fragment --><p>The breakdown of this code is very simple:</p>
<ol type="1">
<li>Declare an int called i and initialize it</li>
<li>The test to run</li>
<li>Increment i (this can be any mathematical operation)</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>For loops have one more benefit: i is localized. In other words, i only exists only within that loop (and is deleted afterwords). In general, reusing variables is a bad idea.</dd>
<dd>
Any section in the for loop can be omitted, however, note that <code>for (;;)</code> creates an infinite loop.</dd></dl>
<h1><a class="anchor" id="loopproblems"></a>
Pitfalls</h1>
<p>There are several situations that should be avoided whenever you are working with loops.</p>
<div class="fragment"><div class="line"><span class="comment">//This nested loop reuses i. Because i is reset in the second loop, this is an infinite loop.</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; i++)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; 10; i++)</div>
<div class="line">        cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//It is legal to redeclare i, but it is not a good idea here. You cannot access the original i.</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; i++)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) <span class="comment">//note the int in front of this (more local) i.</span></div>
<div class="line">        cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"><span class="comment">//This loop will work perfectly. Whenever there are multiple instances of i, the most local is always chosen.</span></div>
<div class="line"><span class="comment">//The problem is that the code can be confusing, and it is very easy to forget `int i = 0` is not the same as `i = 0`</span></div>
</div><!-- fragment --><h3>Floating Point Operations in Loops</h3>
<p>Floating point numbers in loops, while sometimes necessary, can cause problems. Many people are not aware of this, but the <code>float</code> and <code>double</code> datatypes always have a certain amount of inaccuracy. The reason has to do with the nature of decimal and binary numbers themselves, and cannot be remedied. (COMPUTERPHILE VIDEO)</p>
<div class="fragment"><div class="line"><span class="comment">//This loop may be infinite on some systems. While we know `.1 * 10 = 1`, the computer does not.</span></div>
<div class="line"><span class="comment">//Because certain decimal values are not possible to express exactly in binary, it is likely that the exact value of 1 will be missed (the result may actually be something like `1.0000000000001`).</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">float</span> i = 0; i != 1; i += .1</div>
<div class="line">    cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="comment">//In order to get the desireable result, remove the equality comparison operator.</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">float</span> i = 0; i &lt; 1; i += .1)</div>
<div class="line">    cout &lt;&lt; i &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="comment">//If you are working with a sensor (or anything else that results in a decimal value), always make the condition a range instead of an exact value).</span></div>
<div class="line"><span class="comment">//We are assuming that the function `read()` is defined and returns a floating point value.</span></div>
<div class="line"><span class="keywordtype">float</span> result = read();</div>
<div class="line"><span class="keywordflow">while</span> (result &lt; 3.14 &amp;&amp; result &gt; 3.15) <span class="comment">//this will work</span></div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;looping\n&quot;</span>;</div>
<div class="line">    result = read();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">float</span> result = read();</div>
<div class="line"><span class="keywordflow">while</span> (result != 3.1415) <span class="comment">//this will probably fail and be infinite</span></div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;looping\n&quot;</span>;</div>
<div class="line">    result = read();</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>The general rule with anything floating-point related: <b>do not use <code>==</code> or <code>!=</code> when working with values such as these.</b> Doing so will often yield undesireable results. <b>Use a range like the above example.</b><br />
 Remember that the <code>!</code> operator can be placed at the beginning of a parenthesized expression and negate the answer <code>!(expression)</code>. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md__documentation__c_09_09.html">C++</a></li><li class="navelem"><a class="el" href="cppflow.html">Program Flow</a></li>
    <li class="footer">Generated on Mon Jul 7 2014 15:41:58 for Team 2550 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
