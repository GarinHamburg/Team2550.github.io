<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Team 2550: Dynamic Memory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygenMobile.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Team 2550
   </div>
   <div id="projectbrief">Technical Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cpp.html">C++</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Dynamic Memory </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#cppmemstack">The Stack</a></li>
<li class="level1"><a href="#cppmemheap">The Heap</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="cppmemstack"></a>
The Stack</h1>
<p>Up until now, all of variables you have created were allocated to the stack. The stack is a fixed-size portion of memory that the operating system gives your program when it starts. The in <a class="el" href="cppmdarray.html">Multidimensional Arrays</a> are an example of how memory is stored in the stack.</p>
<p>The stack supports two operations: push and pop. Pushing to the stack adds and item to the top, popping removes an item.</p>
<p>Below is a (simplified) example stack for the following code... </p>
<pre class="fragment">char c = 'a';
int x = 1;
int y = 2;
</pre><table class="doxtable">
<tr>
<th>Type </th><th>Value  </th></tr>
<tr>
<td>int </td><td>y </td></tr>
<tr>
<td>int </td><td>x </td></tr>
<tr>
<td>char </td><td>c </td></tr>
</table>
<p>Stacks are arranged so that the most recently used value is the easiest and fastest to access. In this case, the variable y was the most recently declared, so it is on top. We can now access y by popping from the stack.</p>
<table class="doxtable">
<tr>
<th>Type </th><th>Value  </th></tr>
<tr>
<td>int </td><td>x </td></tr>
<tr>
<td>char </td><td>c </td></tr>
</table>
<p>In order to access the memory, the CPU pops the value off the stack and reads it into the <b>cache</b> (a very small amount of memory that the CPU has built in). There, the necessary operations are performed and it is pushed back onto the stack.</p>
<p>In some cases, it is necessary for the CPU to access multiple values, or values that are not on top of the stack. This process is slightly more complex. Let's try reading c, which is on the bottom...</p>
<p>First, we have to pop both of the int values off of the stack and onto a temporary stack.</p>
<table class="doxtable">
<tr>
<th>Top </th><th>Type </th><th>Name  </th></tr>
<tr>
<td>-&gt; </td><td>int </td><td>y </td></tr>
<tr>
<td>- </td><td>int </td><td>x </td></tr>
<tr>
<td>- </td><td>char </td><td>c </td></tr>
</table>
<p>Pop both int values...</p>
<h3>Stack 1 (the main stack):</h3>
<table class="doxtable">
<tr>
<th>Type </th><th>Value  </th></tr>
<tr>
<td>char </td><td>c </td></tr>
</table>
<h3>Stack 2 (temporary):</h3>
<table class="doxtable">
<tr>
<th>Type </th><th>Value  </th></tr>
<tr>
<td>int </td><td>x </td></tr>
<tr>
<td>int </td><td>y </td></tr>
</table>
<p>Now the CPU is able to operate on c and then push x and y back onto the stack.</p>
<h1><a class="anchor" id="cppmemheap"></a>
The Heap</h1>
<p>The heap is more complex than the stack, but it is not important to know how it works exactly. As the programmer, all you need to know is that the allocation of data on the heap takes place at runtime (whenever the program is run) as opposed to compile-time. In other words, your program has to ask the operating system for memory while it is running instead of using its own dedicated memory. As a result, it will slow down your program significantly because you have to wait for the operating system to fulfill the request. However, you can store far more on the heap (on a 32 bit system, you can store up to 4GB, and even more if it is 64-bit).</p>
<dl class="section note"><dt>Note</dt><dd>You can allocate up to 4GB on a 32-bit system <em>if there is nothing else running</em>. In other words, only the operating system can actually use the full 4GB.</dd></dl>
<p>Different operating systems have different policies regarding how much a single program you can allocate, but you can still allocate much more than is available on the stack.</p>
<p>Because heap storage is allocated at runtime, it is known as dynamic memory.</p>
<h1>Sections </h1>
<ul>
<li><a class="el" href="cppmembinhex.html">Binary and Hexadecimal Numbers</a></li>
<li><a class="el" href="cppmemptr.html">Pointers</a></li>
<li><a class="el" href="cppmemarr.html">Dynamic Arrays</a></li>
<li><a class="el" href="cppmemobj.html">Dynamic Objects</a> </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0; margin:7px 0px" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
     </li>
     <li class="footer"><a href="http://team2550.github.io/">Desktop Site</a></li>
  </ul>
</div>
</body>
</html>
